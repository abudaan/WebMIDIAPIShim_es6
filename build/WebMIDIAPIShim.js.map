{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "node_modules/browserify/node_modules/process/browser.js",
    "jazz.js",
    "midi_access.js",
    "midi_input.js",
    "midi_output.js",
    "shim.js",
    "util.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n",
    "'use strict';\n\nimport {getDevice} from './util';\n\nconst jazzPluginInitTime = 100; // milliseconds\n\nlet jazzInstanceNumber = 0;\nlet jazzInstances = new Map();\n\nexport function createJazzInstance(callback){\n\n  let id = 'jazz_' + jazzInstanceNumber++ + '' + Date.now();\n  let instance;\n  let objRef, activeX;\n\n  if(getDevice().nodejs === true){\n    objRef = new window.jazzMidi.MIDI();\n  }else{\n    let o1 = document.createElement('object');\n    o1.id = id + 'ie';\n    o1.classid = 'CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90';\n    activeX = o1;\n\n    let o2 = document.createElement('object');\n    o2.id = id;\n    o2.type = 'audio/x-jazz';\n    o1.appendChild(o2);\n    objRef = o2;\n\n    let e = document.createElement('p');\n    e.appendChild(document.createTextNode('This page requires the '));\n\n    let a = document.createElement('a');\n    a.appendChild(document.createTextNode('Jazz plugin'));\n    a.href = 'http://jazz-soft.net/';\n\n    e.appendChild(a);\n    e.appendChild(document.createTextNode('.'));\n    o2.appendChild(e);\n\n    let insertionPoint = document.getElementById('MIDIPlugin');\n    if(!insertionPoint) {\n      // Create hidden element\n      insertionPoint = document.createElement('div');\n      insertionPoint.id = 'MIDIPlugin';\n      insertionPoint.style.position = 'absolute';\n      insertionPoint.style.visibility = 'hidden';\n      insertionPoint.style.left = '-9999px';\n      insertionPoint.style.top = '-9999px';\n      document.body.appendChild(insertionPoint);\n    }\n    insertionPoint.appendChild(o1);\n  }\n\n\n  setTimeout(function(){\n    if(objRef.isJazz === true){\n      instance = objRef;\n    }else if(activeX.isJazz === true){\n      instance = activeX;\n    }\n    if(instance !== undefined){\n      instance._perfTimeZero = window.performance.now();\n      jazzInstances.set(id, instance);\n    }\n    callback(instance);\n  }, jazzPluginInitTime);\n}\n\n\nexport function getJazzInstance(type, callback){\n  let instance = null;\n  let key = type === 'input' ? 'inputInUse' : 'outputInUse';\n\n  for(let inst of jazzInstances.values()){\n    if(inst[key] !== true){\n        instance = inst;\n        break;\n    }\n  }\n\n  if(instance === null){\n    createJazzInstance(callback);\n  }else{\n    callback(instance);\n  }\n}\n",
    "'use strict';\n\nimport {createJazzInstance, getJazzInstance} from './jazz';\nimport {MIDIInput} from './midi_input';\nimport {MIDIOutput} from './midi_output';\n\nlet jazzInstance;\nlet inputsMap = new Map();\nlet outputsMap = new Map();\nlet midiAccess = {\n  sysexEnabled: true\n};\nlet listeners = new Set();\n\nexport function createMIDIAccess(){\n\n  return new Promise(function executor(resolve, reject){\n\n    createJazzInstance(function(instance){\n      if(instance === undefined){\n        reject({code: 1});\n        return;\n      }\n\n      jazzInstance = instance;\n\n      createMIDIPorts(function(){\n        setupListeners();\n        midiAccess.inputs = inputsMap;\n        midiAccess.outputs = outputsMap;\n        resolve(midiAccess);\n      });\n    });\n\n  });\n}\n\nfunction createMIDIPorts(callback){\n  let inputs = jazzInstance.MidiInList();\n  let outputs = jazzInstance.MidiOutList();\n  let numInputs = inputs.length;\n  let numOutputs = outputs.length;\n\n  loopCreateMIDIPort(0, numInputs, 'input', inputs, function(){\n    loopCreateMIDIPort(0, numOutputs, 'output', outputs, callback);\n  });\n}\n\n\nfunction loopCreateMIDIPort(index, max, type, list, callback){\n  if(index < max){\n    let name = list[index++];\n    createMIDIPort(type, name, function(){\n      loopCreateMIDIPort(index, max, type, list, callback);\n    });\n  }else{\n    callback();\n  }\n}\n\n\nfunction createMIDIPort(type, name, callback){\n  getJazzInstance(type, function(instance){\n    let port;\n    let info = [name, '', ''];\n    if(type === 'input'){\n      if(instance.Support('MidiInInfo')){\n        info = instance.MidiInInfo(name);\n      }\n      port = new MIDIInput(info, instance);\n      inputsMap.set(name, port);\n    }else if(type === 'output'){\n      if(instance.Support('MidiOutInfo')){\n        info = instance.MidiOutInfo(name);\n      }\n      port = new MIDIOutput(info, instance);\n      outputsMap.set(name, port);\n    }\n    callback();\n  });\n}\n\n\nfunction getPortByName(ports, name){\n  let port;\n  for(port of ports.values()){\n    if(port.name === name){\n      break;\n    }\n  }\n  return port;\n}\n\n\nfunction setupListeners(){\n  jazzInstance.OnDisconnectMidiIn(function(name){\n    let port = getPortByName(inputsMap, name);\n    if(port !== undefined){\n      port.close();\n      port._jazzInstance.inputInUse = false;\n      inputsMap.delete(name);\n      dispatchEvent();\n    }\n  });\n\n  jazzInstance.OnDisconnectMidiOut(function(name){\n    let port = getPortByName(outputsMap, name);\n    if(port !== undefined){\n      port.close();\n      port._jazzInstance.outputInUse = false;\n      outputsMap.delete(name);\n      dispatchEvent();\n    }\n  });\n\n  jazzInstance.OnConnectMidiIn(function(name){\n    createMIDIPort('input', name, function(){\n      dispatchEvent();\n    });\n  });\n\n  jazzInstance.OnConnectMidiOut(function(name){\n    createMIDIPort('output', name, function(){\n      dispatchEvent();\n    });\n  });\n}\n\n\nfunction addEventListener(type, listener, useCapture){\n  if(type !== 'statechange'){\n    return;\n  }\n  if(listeners.has(listener) === false){\n    listeners.set(listener);\n  }\n}\n\n\nfunction removeEventListener(type, listener, useCapture){\n  if(type !== 'statechange'){\n    return;\n  }\n  if(listeners.has(listener) === true){\n    listeners.delete(listener);\n  }\n}\n\n\nfunction dispatchEvent(){\n  // create MIDIConnectionEvent (note: IE does not support CustomEvent)\n  let evt = new CustomEvent('statechange');\n  evt.initEvent('statechange')\n  if(midiAccess.onstatechange){\n    midiAccess.onstatechange();\n  }\n  for(let listener of listeners){\n    listener(evt);\n  }\n}\n\n\nexport function closeAllMIDIInputs(){\n  inputsMap.forEach(function(input){\n    //input.close();\n    input._jazzInstance.MidiInClose();\n  });\n}\n\n",
    "'use strict';\n\nimport {getDevice} from './util';\n\nlet midiProc;\nlet nodejs = getDevice().nodejs;\n\nexport class MIDIInput{\n  constructor(info, instance){\n    this.id = info[0];\n    this.name = info[0];\n    this.manufacturer = info[1];\n    this.version = info[2];\n    this.type = 'input';\n    this.state = 'closed';\n    this.connection = 'connected';\n\n    this._onmidimessage = null;\n    this._onstatechange = null;\n\n    Object.defineProperty(this, 'onmidimessage', {\n      set: function(value){\n        this._onmidimessage = value;\n        this.open();\n      }\n    });\n\n    Object.defineProperty(this, 'onstatechange', {set: function(value){\n      this._onstatechange = value;\n    }});\n\n    this._listeners = new Map().set('midimessage', new Set()).set('statechange', new Set());\n    this._inLongSysexMessage = false;\n    this._sysexBuffer = new Uint8Array();\n\n    this._jazzInstance = instance;\n    this._jazzInstance.inputInUse = true;\n    this._jazzInstance.MidiInOpen(this.name, midiProc.bind(this));\n  }\n\n  addEventListener(type, listener, useCapture){\n    let listeners = this._listeners.get(type);\n    if(listeners === undefined){\n      return;\n    }\n\n    if(listeners.has(listener) === false){\n      listeners.add(listener);\n    }\n  }\n\n  removeEventListener(type, listener, useCapture){\n    let listeners = this._listeners.get(type);\n    if(listeners === undefined){\n      return;\n    }\n\n    if(listeners.has(listener) === false){\n      listeners.delete(listener);\n    }\n  }\n\n  preventDefault(){\n    this._pvtDef = true;\n  }\n\n  dispatchEvent(evt){\n    this._pvtDef = false;\n\n    let listeners = this._listeners.get(evt.type);\n    listeners.forEach(function(listener){\n      listener(evt);\n    });\n\n    if(this._onmidimessage !== null){\n      this._onmidimessage(evt);\n    }\n\n    return this._pvtDef;\n  }\n\n\n  appendToSysexBuffer(data){\n    let oldLength = this._sysexBuffer.length;\n    let tmpBuffer = new Uint8Array(oldLength + data.length);\n    tmpBuffer.set(this._sysexBuffer);\n    tmpBuffer.set(data, oldLength);\n    this._sysexBuffer = tmpBuffer;\n  }\n\n\n  bufferLongSysex(data, initialOffset){\n    let j = initialOffset;\n    while(j<data.length){\n        if(data[j] == 0xF7){\n            // end of sysex!\n            j++;\n            this.appendToSysexBuffer(data.slice(initialOffset, j));\n            return j;\n        }\n        j++;\n    }\n    // didn't reach the end; just tack it on.\n    this.appendToSysexBuffer(data.slice(initialOffset, j));\n    this._inLongSysexMessage = true;\n    return j;\n  }\n\n  open(){\n    //this._jazzInstance.MidiInOpen(this.name, midiProc.bind(this));\n  }\n\n  close(){\n    //this._jazzInstance.MidiInClose(this.name);\n    this.onmidimessage = null;\n    this.onstatechange = null;\n    this._listeners.get('midimessage').clear();\n    this._listeners.get('statechange').clear();\n  }\n}\n\n\n\nmidiProc = function(timestamp, data){\n  let length = 0;\n  let i;\n  let isSysexMessage = false;\n\n  // Jazz sometimes passes us multiple messages at once, so we need to parse them out\n  // and pass them one at a time.\n\n  for(i = 0; i < data.length; i += length){\n    let isValidMessage = true;\n    if(this._inLongSysexMessage){\n      i = this.bufferLongSysex(data, i);\n      if(data[i-1] != 0xf7){\n        // ran off the end without hitting the end of the sysex message\n        return;\n      }\n      isSysexMessage = true;\n    }else{\n      isSysexMessage = false;\n      switch(data[i] & 0xF0){\n        case 0x00:  // Chew up spurious 0x00 bytes.  Fixes a Windows problem.\n          length = 1;\n          isValidMessage = false;\n          break;\n\n        case 0x80:  // note off\n        case 0x90:  // note on\n        case 0xA0:  // polyphonic aftertouch\n        case 0xB0:  // control change\n        case 0xE0:  // channel mode\n          length = 3;\n          break;\n\n        case 0xC0:  // program change\n        case 0xD0:  // channel aftertouch\n          length = 2;\n          break;\n\n        case 0xF0:\n          switch(data[i]){\n            case 0xf0:  // letiable-length sysex.\n              i = this.bufferLongSysex(data,i);\n              if(data[i-1] != 0xf7){\n                // ran off the end without hitting the end of the sysex message\n                return;\n              }\n              isSysexMessage = true;\n              break;\n\n            case 0xF1:  // MTC quarter frame\n            case 0xF3:  // song select\n              length = 2;\n              break;\n\n            case 0xF2:  // song position pointer\n              length = 3;\n              break;\n\n            default:\n              length = 1;\n              break;\n          }\n          break;\n      }\n    }\n    if(!isValidMessage){\n      continue;\n    }\n    let evt = {};\n    if(getDevice().nodejs === false){\n      evt = document.createEvent('Event');\n      evt.initEvent('midimessage', false, false);\n    }\n    evt.receivedTime = parseFloat(timestamp.toString()) + this._jazzInstance._perfTimeZero;\n    if(isSysexMessage || this._inLongSysexMessage){\n      evt.data = new Uint8Array(this._sysexBuffer);\n      this._sysexBuffer = new Uint8Array(0);\n      this._inLongSysexMessage = false;\n    }else{\n      evt.data = new Uint8Array(data.slice(i, length+i));\n    }\n\n    if(nodejs){\n      if(this.onmidimessage){\n        this.onmidimessage(evt);\n      }\n    }else{\n      //let e = new CustomEvent('midimessage', evt);\n      this.dispatchEvent(evt);\n    }\n  }\n};",
    "'use strict';\n\n\nexport class MIDIOutput{\n  constructor(info, instance){\n    this.id = info[0];\n    this.name = info[0];\n    this.manufacturer = info[1];\n    this.version = info[2];\n    this.type = 'input';\n    this.state = 'closed';\n    this.connection = 'connected';\n    this.onmidimessage = null;\n    this.onstatechange = null;\n\n    this._listeners = new Map();\n    this._inLongSysexMessage = false;\n    this._sysexBuffer = new Uint8Array();\n\n    this._jazzInstance = instance;\n    this._jazzInstance.outputInUse = true;\n    this._jazzInstance.MidiOutOpen(this.name);\n  }\n\n  open(){\n    //this._jazzInstance.MidiOutOpen(this.name);\n    this.state = 'open';\n  }\n\n  close(){\n    //this._jazzInstance.MidiOutClose(this.name);\n    this.state = 'closed';\n  }\n\n  send(data, timestamp){\n    let delayBeforeSend = 0;\n\n    if(data.length === 0){\n      return false;\n    }\n\n    if(timestamp){\n      delayBeforeSend = Math.floor(timestamp - window.performance.now());\n    }\n\n    if(timestamp && (delayBeforeSend > 1)){\n      window.setTimeout(() => {\n        this._jazzInstance.MidiOutLong(data);\n      }, delayBeforeSend);\n    }else{\n      this._jazzInstance.MidiOutLong(data);\n    }\n    return true;\n  }\n}",
    "'use strict';\n\n// required by babelify for transpiling es6\n//require('babelify/polyfill');\n\nimport {createMIDIAccess, closeAllMIDIInputs} from './midi_access';\nimport {polyfill, getDevice} from './util';\n\nlet midiAccess;\n\n(function(){\n  if(!window.navigator.requestMIDIAccess){\n    polyfill();\n    window.navigator.requestMIDIAccess = function(){\n      if(midiAccess === undefined){\n          midiAccess = createMIDIAccess();\n      }\n      return midiAccess;\n    };\n    if(getDevice().nodejs === true){\n      window.navigator.close = function(){\n        // Need to close MIDI input ports, otherwise Node.js will wait for MIDI input forever.\n        closeAllMIDIInputs();\n      };\n    }\n  }\n}());",
    "'use strict';\n\n// check if the shim is running in nodejs\nexport const inNodeJs = (typeof __dirname !== 'undefined' && window.jazzMidi);\n\n\nlet device;\n\nexport function getDevice(){\n\n  if(device !== undefined){\n    return device;\n  }\n\n  let\n    platform = 'undetected',\n    browser = 'undetected',\n    nodejs = false;\n\n  if(navigator === undefined){\n    nodejs = (typeof __dirname !== 'undefined' && window.jazzMidi);\n    if(nodejs === true){\n      platform = process.platform;\n    }\n    device = {\n      platform: platform,\n      browser: false,\n      nodejs: nodejs,\n      mobile: platform === 'ios' || platform === 'android'\n    };\n    return device;\n  }\n\n\n  let ua = navigator.userAgent;\n\n  if(ua.match(/(iPad|iPhone|iPod)/g)){\n    platform = 'ios';\n  }else if(ua.indexOf('Android') !== -1){\n    platform = 'android';\n  }else if(ua.indexOf('Linux') !== -1){\n    platform = 'linux';\n  }else if(ua.indexOf('Macintosh') !== -1){\n    platform = 'osx';\n  }else if(ua.indexOf('Windows') !== -1){\n    platform = 'windows';\n  }\n\n  if(ua.indexOf('Chrome') !== -1){\n    // chrome, chromium and canary\n    browser = 'chrome';\n\n    if(ua.indexOf('OPR') !== -1){\n      browser = 'opera';\n    }else if(ua.indexOf('Chromium') !== -1){\n      browser = 'chromium';\n    }\n  }else if(ua.indexOf('Safari') !== -1){\n    browser = 'safari';\n  }else if(ua.indexOf('Firefox') !== -1){\n    browser = 'firefox';\n  }else if(ua.indexOf('Trident') !== -1){\n    browser = 'ie';\n    if(ua.indexOf('MSIE 9')){\n      browser = 'ie 9';\n    }\n  }\n\n  if(platform === 'ios'){\n    if(ua.indexOf('CriOS') !== -1){\n      browser = 'chrome';\n    }\n  }\n\n  device = {\n    platform: platform,\n    browser: browser,\n    mobile: platform === 'ios' || platform === 'android',\n    nodejs: false\n  };\n  return device;\n}\n\n\nexport function polyfillPerformance(){\n\n  if(window.performance === undefined){\n    window.performance = {};\n  }\n\n  Date.now = (Date.now || function(){\n    return new Date().getTime();\n  });\n\n  if(window.performance.now === undefined){\n\n    let nowOffset = Date.now();\n\n    if(performance.timing !== undefined && performance.timing.navigationStart !== undefined){\n      nowOffset = performance.timing.navigationStart;\n    }\n\n    window.performance.now = function now(){\n      return Date.now() - nowOffset;\n    }\n  }\n}\n\nexport function polyfillCustomEvent(){\n\n  if(typeof window.Event === 'function'){\n    return;\n  }\n\n  function CustomEvent(event, params){\n    params = params || {bubbles: false, cancelable: false, detail: undefined};\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  };\n\n  CustomEvent.prototype = window.Event.prototype;\n  window.CustomEvent = CustomEvent;\n  window.CustomEvent = CustomEvent;\n}\n\n\nexport function polyfill(){\n  let device = getDevice();\n  // if(device.browser === 'ie'){\n  //   polyfillCustomEvent();\n  // }\n  polyfillPerformance();\n}"
  ]
}